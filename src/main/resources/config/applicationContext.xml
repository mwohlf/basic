<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
           <list>
             <value>config/default.properties</value>
             <value>config/settings.properties</value>
           </list>
        </property>
    </bean>

    <bean class="net.wohlfart.basic.Game" >
       <property name="gameSettings" ref="gameSettings" />
       <property name="platform" ref="lwjglPlatform" />
       <property name="inputDispatcher" ref="inputDispatcher" />
       <property name="initialState" value="LIGHTING " />
    </bean>

    <bean id="gameSettings" class="net.wohlfart.basic.Settings">
      <property name="width" value="${display.width}" />
      <property name="height" value="${display.height}" />
      <property name="sync" value="${display.sync}" />
      <property name="fullscreen" value="${display.fullscreen}" />
      <property name="fieldOfView" value="${projection.fieldOfView}" />
      <property name="nearPlane" value="${projection.nearPlane}" />
      <property name="farPlane" value="${projection.farPlane}" />
    </bean>

    <bean id="lwjglPlatform" class="net.wohlfart.basic.LwjglPlatform" />

    <bean id="inputDispatcher" class="net.wohlfart.gl.input.DefaultInputDispatcher" />


    <bean id="GameState.NULL" class="net.wohlfart.basic.states.NullState" />

    <bean id="GameState.SIMPLE" class="net.wohlfart.basic.states.SimpleState" />

    <bean id="GameState.LIGHTING" class="net.wohlfart.basic.states.LightingState" >
        <property name="skybox" ref="nullSkybox" />
    </bean>


    <!-- skyboxes -->

    <bean id="defaultSkybox" class="net.wohlfart.gl.elements.skybox.SkyboxImpl" />

    <bean id="nullSkybox" class="net.wohlfart.gl.elements.skybox.NullSkybox" />


    <!-- renderer

     doesn't work without existing OpenGL context
     which we don'T have during startup, only after

    <bean id="defaultGraphicContext" class="net.wohlfart.gl.shader.DefaultGraphicContext">
        <constructor-arg>
            <bean class="net.wohlfart.gl.shader.DefaultShaderProgram">
               <constructor-arg index="0" value="/shaders/default/vertex.glsl" />
               <constructor-arg index="1" value="/shaders/default/fragment.glsl" />
            </bean>
        </constructor-arg>
    </bean>

-->


</beans>